<div class="container py-5">

  <!-- CARGANDO -->
  <div *ngIf="cargando" class="text-center">
    <div class="spinner-border text-primary"></div>
    <p class="mt-3">Cargando votaci√≥n...</p>
  </div>

  <!-- ERROR -->
  <div *ngIf="mensajeError" class="alert alert-danger text-center">
    {{ mensajeError }}
  </div>

  <!-- MENSAJE √âXITO -->
  <div *ngIf="mensajeExito" class="alert alert-success text-center">
    ¬°Voto registrado correctamente!
  </div>

  <!-- ENCABEZADO -->
  <div *ngIf="estudiante && !cargando" class="card shadow mb-4 header-card">
    <div class="card-body text-center">
      <h4>Proceso de Votaci√≥n Estudiantil</h4>
      <p class="mb-1"><strong>Nombre:</strong> {{ estudiante.nombre }}</p>
      <p class="mb-1"><strong>Carrera:</strong> {{ estudiante.carrera }}</p>
    </div>
  </div>

  <!-- YA VOT√ì -->
  <div *ngIf="yaVoto" class="alert alert-info text-center">
    Ya has emitido tu voto. Gracias por participar.
  </div>

  <!--LISTA DE CANDIDATOS --> 
  <div *ngIf="!yaVoto && !cargando">

    <h5 class="mb-3 text-center">Selecciona una planilla</h5>

    <div class="row">

      <div 
        class="col-md-4 mb-4"
        *ngFor="let planilla of planillas"
      >
        <div 
          class="card shadow-sm h-100"
          (click)="seleccionarPlanilla(planilla)"
        >
          <div class="card-body text-center">

            <h5 class="fw-bold">{{ planilla.nombrePlanilla }}</h5>

            <p><strong>Presidente:</strong> {{ planilla.presidente }}</p>
            <p><strong>Vicepresidente:</strong> {{ planilla.vicepresidente }}</p>
            <p><strong>Secretario:</strong> {{ planilla.secretario }}</p>

            <p class="text-muted mt-2">
              {{ planilla.descripcionGeneral }}
            </p>

            <button class="btn btn-primary btn-sm mt-2">
              Votar
            </button>

          </div>
        </div>
      </div>

    </div>


<div 
  class="modal-overlay"
  *ngIf="mostrarConfirmacion"
  (click)="cancelarVoto()"
>
  <div 
    class="modal-card"
    (click)="$event.stopPropagation()"
  >
    <!-- √çcono decorativo -->
    <div class="modal-icon">
      üó≥Ô∏è
    </div>

    <h4 class="modal-title">Confirmar tu voto</h4>

    <p class="modal-subtitle">Est√°s a punto de votar por:</p>

    <div class="planilla-badge">
      {{ planillaSeleccionada?.presidente }}
    </div>

    <p class="modal-warning">
      ‚ö†Ô∏è Esta acci√≥n <strong>no se puede deshacer</strong>.
    </p>

    <div class="modal-actions">
      <button 
        class="btn-cancelar"
        (click)="cancelarVoto()"
      >
        Cancelar
      </button>

      <button 
        class="btn-confirmar"
        (click)="confirmarVoto()"
        [disabled]="votando"
      >
        <span *ngIf="!votando">‚úî Confirmar voto</span>
        <span *ngIf="votando">
          <span class="spinner-mini"></span> Registrando...
        </span>
      </button>
    </div>
  </div>
</div>
</div>
</div>